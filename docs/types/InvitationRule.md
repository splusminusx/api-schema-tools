
## InvitationRule

### Описание типа
InvitationRule
Сценарий вовлечения.
Таблица 47. Поля сценария вовлечения


### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|confirmation_mobile|False|string|Подтверждающее сообщение для мобильных устройств.<br/>Максимум 180 символов.<br/>Обязательно, если action имеет значение vary или lead.<br/>ВНИМАНИЕ! В данный момент это поле не используется.<br/>|
|page_title|False|string|Показывать приглашение на странице с указанной подстрокой в названии (тег «title»).<br/>Если page_type=specified, то одно из двух полей page_url или page_title должно быть указано.<br/>|
|is_new_visitor|True|boolean|Показывать приглашение только новым посетителям.<br/>True – показывать только новым, false – показывать всем.<br/>|
|site_time|False|numeric|Время в секундах, проведенное на сайте посетителем, после которого ему необходимо показывать приглашение.<br/>|
|title|True|string|Название сценария.<br/>Максимум 70 символов.<br/>|
|is_once_per_day|False|boolean|Показывать приглашение только один раз в сутки.<br/>True – один раз, вне зависимости от значения max_count, false – в соответствии со значением max_count.<br/>|
|welcome_chat|False|string|Текст приглашения, если есть доступные операторы.<br/>Максимум 300 символов.<br/>Обязательно для action = chat или vary.<br/>|
|created_at|True|datetime|Дата создания.<br/>|
|page_count|False|numeric|Количество просмотренных страниц посетителем, при котором ему необходимо показывать приглашение.<br/>|
|is_active|True|boolean|Признак активности сценария.<br/>|
|welcome_lead|False|string|Текст приглашения, если нет доступных операторов.<br/>Максимум 300 символов.<br/>Обязательно для action = lead или vary.<br/>|
|locations|False|Array.<[Location](/docs/types/Location.md)>|Массив географических расположений.<br/>|
|updated_at|True|datetime|Дата последнего обновления.<br/>|
|page_type|True|string|Тип страницы.<br/>Возможные значения:<br/>specified – показывать приглашение на странице, соответствующей критериям page_url и page_title.<br/>home – показывать приглашение на главной страницы;<br/>internal – показывать приглашение на внутренней странице;<br/>any – показывать приглашение на любой странице.<br/>|
|page_time|False|numeric|Время, проведенное на странице посетителем, после которого ему необходимо показывать приглашение.<br/>|
|welcome_mobile|True|string|Текст приглашения для мобильных устройств.<br/>Максимум 130 символов.<br/>ВНИМАНИЕ! В данный момент это поле не используется.<br/>|
|action|True|string|Действие, которое следует выполнить, если ситуация подпадает под настройки сценария.<br/>Возможные значения:<br/>vary – показать приглашение в чат, если есть доступные операторы или форму генератора лидов, если доступных операторов нет.<br/>chat – показать приглашение в чат, если есть активные операторы. В противном случае ничего не показывать;<br/>lead – показать форму генератора лида, если нет активных операторов. В противном случае ничего не показывать.<br/>|
|confirmation_lead|False|string|Подтверждающее сообщение, которое показывается посетителю после отправки формы лида.<br/>Максимум 180 символов.<br/>Обязательно для action = lead или vary.<br/>|
|max_count|False|numeric|Максимальное количество показов конкретному посетителю приглашений по данному сценарию в течение календарных суток.<br/>Счетчик показов обнуляется по истечению суток с момента последнего показа.<br/>Отсутствие значения или 0 – ограничения нет.<br/>|
|id|True|numeric|ID сценария.<br/>|
|page_url|False|string|Показывать приглашение на странице с указанным адресом.<br/>Адрес указывается без приставки «http://» или «https://», например:<br/>www.mycompany.ru/about/contacts<br/>Если page_type=specified, то одно из двух полей page_url или page_title должно быть указано.<br/>|
