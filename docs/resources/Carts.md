
# Carts

## Описание ресурса
Carts

# Методы

## addToPeriod

### Описание метода
Carts.addToPeriod
Создает новую корзину в указанном периоде.
Параметры
Результат
Объект типа «Cart».
Уровень доступа для ролей


### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|activation_type|False|string|Тип активации.<br/>Возможные значения:<br/>now – активация сразу после покупки (по умолчанию);<br/>after_current – активация после завершения текущего периода;<br/>after_payment – активация после оплаты.<br/>|
|period_id|True|numeric|ID периода.<br/>|

### Резудьтат
None
### Доступы к методу

| Имя роли | доступ | Комментарий |
|---|---|---|
|admin|manager|chief|chief_partner|operator|admin_partner
## show

### Описание метода
Carts.show
Возвращает данные указанной корзины.
Параметры
Результат
Объект типа «Cart».
Уровень доступа для ролей


### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|fields|False|string|Список через запятую возвращаемых полей.<br/>|
|id|True|numeric|ID корзины.<br/>|

### Резудьтат
None
### Доступы к методу

| Имя роли | доступ | Комментарий |
|---|---|---|
|admin|manager|chief|chief_partner|operator|admin_partner
## list

### Описание метода
Carts.list
Возвращает список корзин.
Параметры
Результат
Массив объектов типа «Cart».
Уровень доступа для ролей


### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|q|False|string|Критерий поиска.<br/>Доступные поля:<br/>ids – idlist, список ID корзин.<br/>|
|fields|False|string|Список через запятую возвращаемых полей.<br/>|
|limit|False|numeric|По умолчанию – 50.<br/>|
|sort|False|string|Сортировка результатов.<br/>Возможные значения:<br/>created_at:d – по умолчанию.<br/>|
|offset|False|numeric|По умолчанию – 0.<br/>|

### Резудьтат
Array.<[Cart](/docs/types/Cart.md)>
### Доступы к методу

| Имя роли | доступ | Комментарий |
|---|---|---|
|admin|manager|chief|chief_partner|operator|admin_partner
## update

### Описание метода
Carts.update
Изменяет указанную корзину.
Параметры
Результат
Метод ничего не возвращает. 
Уровень доступа для ролей




### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|activation_type|False|string|Тип активации.<br/>Возможные значения:<br/>now – активация сразу после покупки;<br/>after_current – активация после завершения текущего периода;<br/>after_payment – активация после оплаты.<br/>|
|id|True|numeric|ID корзины.<br/>|

### Резудьтат
None
### Доступы к методу

| Имя роли | доступ | Комментарий |
|---|---|---|
|admin|manager|chief|chief_partner|operator|admin_partner
## add

### Описание метода
Carts.add
Создает новую корзину.
Параметры
Результат
Объект типа «Cart».
Уровень доступа для ролей



### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|activation_type|False|string|Тип активации.<br/>Возможные значения:<br/>now – активация сразу после покупки (по умолчанию);<br/>after_current – активация после завершения текущего периода;<br/>after_payment – активация после оплаты.<br/>|
|is_current_period|False|boolean|Признак текущего периода.<br/>Если true (по умолчанию), то корзина создается для текущего периода. <br/>Если false, то будет создан новый период.<br/>|

### Резудьтат
None
### Доступы к методу

| Имя роли | доступ | Комментарий |
|---|---|---|
|admin|manager|chief|chief_partner|operator|admin_partner
## commit

### Описание метода
Carts.commit
Операция покупки позиций указанной корзины.
Метод создает заказ, выставляет счет на оплату на активного плательщика и удаляет корзину. 
 Параметры
Результат
Объект типа «Order».
Уровень доступа для ролей


### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|id|True|numeric|ID корзины.<br/>|
|payer_id|False|numeric|ID плательщика.<br/>Если не указано, то счет будет выписан на активного плательщика.<br/>|

### Резудьтат
None
### Доступы к методу

| Имя роли | доступ | Комментарий |
|---|---|---|
|admin|manager|chief|chief_partner|operator|admin_partner
## delete

### Описание метода
Carts.delete
Удаляет указанную корзину.
Параметры
Результат
Метод ничего не возвращает.
Уровень доступа для ролей


### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|id|True|numeric|ID корзины.<br/>|

### Резудьтат
None
### Доступы к методу

| Имя роли | доступ | Комментарий |
|---|---|---|
|admin|manager|chief|chief_partner|operator|admin_partner