
# EmployeeOnlineIntervals

## Описание ресурса
EmployeeOnlineIntervals<br/>
# Методы

## listBySite

### Описание метода
EmployeeOnlineIntervals.listBySite<br/>Возвращает интервалы времени онлайн сотрудников сгруппированные по сайтам.<br/>Параметры<br/>Особенности работы метода<br/>Параметры фильтрации site_ids, department_ids и employee_ids определяют целевое множество сотрудников. Берутся сотрудники из числа employee_ids (если указано), связанные с указанными отделами (если указаны) и, напрямую или через отделы, с указанными сайтами (если указаны) по состоянию на момент выполнения запроса.<br/>Удаленные сотрудники также принимаются во внимание.<br/>Для целевого множества сотрудников ищутся периоды нахождения в состоянии «В сети» в пределах указанного периода дат (date) и временного окна в течение суток (time). Если для сотрудника из целевого множества и указанных временных условий не найдено периодов, когда он был в состоянии «В сети», то сотрудник будет исключен из рассмотрения.<br/>В результатах будут сайты, с которыми, напрямую или через отделы, связаны сотрудники, попавшие в поле зрения согласно описанным выше условиям. Однако если указан критерий site_ids, то выборка будет дополнительно ограничена указанными отделами.<br/>Метод вернет также данные удаленных сайтов.<br/>Как и все методы типа list, этот метод возвращает в составе метаданных поле total с общим количеством найденных сайтов.<br/>Результат<br/>Массив объектов типа «Site» c добавление статистических данных.<br/>Перечень доступных статистических данных<br/><br/>Пример<br/>curl https://api.livetex.ru/v2/employeeonlineintervals.listbysite \<br/>-H "Authorization: Bearer ACCESS_TOKEN"<br/><br/>{<br/>    "total": 2,<br/>    "results": [<br/>        {<br/>            "id": 1234567,<br/>            "url": "first.mysyte.ru",<br/>            "online_time": 54674,<br/>            "intervals": [<br/>                {"start":"2014-08-07T10:52:23+04:00", "end": "2014-08-07T13:10:47+04:00"},<br/>                {"start":"2014-08-07T14:05:18+04:00", "end": "2014-08-07T18:59:31+04:00"},<br/>                {"start":"2014-08-08T10:03:23+04:00", "end": "2014-08-08T12:23:27+04:00"},<br/>                {"start":"2014-08-08T12:53:51+04:00", "end": "2014-08-08T13:15:21+04:00"},<br/>                {"start":"2014-08-08T14:15:45+04:00", "end": "2014-08-08T19:32:48+04:00"}<br/>            ]<br/>        },<br/>        {<br/>            "id": 1234568,<br/>            "url": "second.mysyte.ru",<br/>            "online_time": 46270,<br/>            "intervals": [<br/>                {"start":"2014-08-07T10:52:23+04:00", "end": "2014-08-07T13:10:47+04:00"},<br/>                {"start":"2014-08-07T14:05:18+04:00", "end": "2014-08-07T18:59:31+04:00"},<br/>                {"start":"2014-08-08T12:53:51+04:00", "end": "2014-08-08T13:15:21+04:00"},<br/>                {"start":"2014-08-08T14:15:45+04:00", "end": "2014-08-08T19:32:48+04:00"}<br/>            ]<br/>        }        <br/>    ]<br/>} <br/><br/>Уровень доступа для ролей<br/><br/><br/>
### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|**q**|False|[string](/docs/types/string.md)|Критерий поиска.<br/>Доступные поля:<br/>site_ids – idlist, список ID сайтов.<br/>department_ids – idlist, список ID отделов.<br/>employee_ids – idlist, список ID сотрудников.<br/>date – date, период, за который запрашивается статистика.<br/>Максимум - 30 дней. По умолчанию устанавливается период равный предыдущим суткам.<br/>time – time, период времени в течение суток, принимаемый во внимание при поиске сотрудников в состоянии «В сети». Возможные значения от 00:00:00 до 23:59:59.<br/>|
|**fields**|False|[string](/docs/types/string.md)|Список возвращаемых полей через запятую.<br/>По умолчанию возвращаются стандартные поля сайта, а также:<br/>online_time;<br/>intervals.<br/>|
|**limit**|False|[numeric](/docs/types/numeric.md)|По умолчанию – 5.<br/>|
|**sort**|False|[string](/docs/types/string.md)|Сортировка результатов.<br/>Возможные значения:<br/>url:a – по умолчанию.<br/>|
|**offset**|False|[numeric](/docs/types/numeric.md)|По умолчанию – 0.<br/>|

### Резудьтат
Array.<[Site](/docs/types/Site.md)>
### Доступы к методу

| Имя роли | доступ | Комментарий |
|---|---|---|
|admin|manager|chief|chief_partner|operator|admin_partner
## listByEmployee

### Описание метода
EmployeeOnlineIntervals.listByEmployee<br/>Возвращает интервалы времени онлайн сотрудников.<br/>Параметры<br/>Особенности работы метода<br/>Параметры фильтрации site_ids, department_ids и employee_ids определяют целевое множество сотрудников. Берутся сотрудники из числа employee_ids (если указано), связанные с указанными отделами (если указаны) и, напрямую или через отделы, с указанными сайтами (если указаны) по состоянию на момент выполнения запроса.<br/>Удаленные сотрудники также принимаются во внимание.<br/>Для целевого множества сотрудников ищутся периоды нахождения в состоянии «В сети» в пределах указанного периода дат (date) и временного окна в течение суток (time).<br/>Если для сотрудника из целевого множества и указанных временных условий не найдено периодов, когда он был в состоянии «В сети», то сотрудник будет исключен из результирующей выборки.<br/>Как и все методы типа list, этот метод возвращает в составе метаданных поле total с общим количеством найденных сотрудников.<br/>Результат<br/>Массив объектов типа «Employee» c добавление статистических данных.<br/>Перечень доступных статистических данных<br/>Пример<br/>curl https://api.livetex.ru/v2/employeeonlineintervals/listbyemployee \<br/>-H "Authorization: Bearer ACCESS_TOKEN"<br/><br/>{<br/>    "total": 2,<br/>    "results": [<br/>        {<br/>            "id": 1234567,<br/>            "title": "Иван Григорьев",<br/>            "online_time": 54674,<br/>            "intervals": [<br/>                {"start":"2014-08-07T10:52:23+04:00", "end": "2014-08-07T13:10:47+04:00"},<br/>                {"start":"2014-08-07T14:05:18+04:00", "end": "2014-08-07T18:59:31+04:00"},<br/>                {"start":"2014-08-08T10:03:23+04:00", "end": "2014-08-08T12:23:27+04:00"},<br/>                {"start":"2014-08-08T12:53:51+04:00", "end": "2014-08-08T13:15:21+04:00"},<br/>                {"start":"2014-08-08T14:15:45+04:00", "end": "2014-08-08T19:32:48+04:00"}<br/>            ]<br/>        },<br/>        {<br/>            "id": 1234568,<br/>            "url": "Сергей Антонов",<br/>            "online_time": 46270,<br/>            "intervals": [<br/>                {"start":"2014-08-07T10:52:23+04:00", "end": "2014-08-07T13:10:47+04:00"},<br/>                {"start":"2014-08-07T14:05:18+04:00", "end": "2014-08-07T18:59:31+04:00"},<br/>                {"start":"2014-08-08T12:53:51+04:00", "end": "2014-08-08T13:15:21+04:00"},<br/>                {"start":"2014-08-08T14:15:45+04:00", "end": "2014-08-08T19:32:48+04:00"}<br/>            ]<br/>        }        <br/>    ]<br/>} <br/><br/>Уровень доступа для ролей<br/><br/>
### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|**q**|False|[string](/docs/types/string.md)|Критерий поиска.<br/>Доступные поля:<br/>site_ids – idlist, список ID сайтов.<br/>department_ids – idlist, список ID отделов.<br/>employee_ids – idlist, список ID сотрудников.<br/>date – date, период, за который запрашивается статистика.<br/>Максимум - 30 дней. По умолчанию устанавливается период равный предыдущим суткам.<br/>time – time, период времени в течение суток, принимаемый во внимание при поиске сотрудников в состоянии «В сети». Возможные значения от 00:00:00 до 23:59:59.<br/>|
|**fields**|False|[string](/docs/types/string.md)|Список возвращаемых полей через запятую.<br/>По умолчанию возвращаются стандартные поля сайта, а также:<br/>online_time;<br/>intervals.<br/>|
|**limit**|False|[numeric](/docs/types/numeric.md)|По умолчанию – 5.<br/>|
|**sort**|False|[string](/docs/types/string.md)|Сортировка результатов.<br/>Возможные значения:<br/>last_name:a – по умолчанию;<br/>first_name:a.<br/>|
|**offset**|False|[numeric](/docs/types/numeric.md)|По умолчанию – 0.<br/>|

### Резудьтат
Array.<[Employee](/docs/types/Employee.md)>
### Доступы к методу

| Имя роли | доступ | Комментарий |
|---|---|---|
|admin|manager|chief|chief_partner|operator|admin_partner
## listByDepartment

### Описание метода
EmployeeOnlineIntervals.listByDepartment<br/>Возвращает интервалы времени онлайн сотрудников сгруппированные по отделам.<br/>Параметры<br/>Особенности работы метода<br/>Параметры фильтрации site_ids, department_ids и employee_ids определяют целевое множество сотрудников. Берутся сотрудники из числа employee_ids (если указано), связанные с указанными отделами (если указаны) и, напрямую или через отделы, с указанными сайтами (если указаны) по состоянию на момент выполнения запроса.<br/>Удаленные сотрудники также принимаются во внимание.<br/>Для целевого множества сотрудников ищутся периоды нахождения в состоянии «В сети» в пределах указанного периода дат (date) и временного окна в течение суток (time). Если для сотрудника из целевого множества и указанных временных условий не найдено периодов, когда он был в состоянии «В сети», то сотрудник будет исключен из рассмотрения.<br/>В результатах будут отделы, с которыми связаны сотрудники, попавшие в поле зрения согласно описанным выше условиям. Однако если указан критерий department_ids, то выборка будет дополнительно ограничена указанными отделами.<br/>Метод вернет также данные удаленных отделов.<br/>Как и все методы типа list, этот метод возвращает в составе метаданных поле total с общим количеством найденных отделов.<br/>Результат<br/>Массив объектов типа «Department» c добавление статистических данных.<br/>Перечень доступных статистических данных<br/><br/>Пример<br/>curl https://api.livetex.ru/v2/employeeonlineintervals.listbydepartment \<br/>-H "Authorization: Bearer ACCESS_TOKEN"<br/><br/>{<br/>    "total": 2,<br/>    "results": [<br/>        {<br/>            "id": 1234567,<br/>            "title": "Отдел продаж",<br/>            "online_time": 54674,<br/>            "intervals": [<br/>                {"start":"2014-08-07T10:52:23+04:00", "end": "2014-08-07T13:10:47+04:00"},<br/>                {"start":"2014-08-07T14:05:18+04:00", "end": "2014-08-07T18:59:31+04:00"},<br/>                {"start":"2014-08-08T10:03:23+04:00", "end": "2014-08-08T12:23:27+04:00"},<br/>                {"start":"2014-08-08T12:53:51+04:00", "end": "2014-08-08T13:15:21+04:00"},<br/>                {"start":"2014-08-08T14:15:45+04:00", "end": "2014-08-08T19:32:48+04:00"}<br/>            ]<br/>        },<br/>        {<br/>            "id": 1234568,<br/>            "url": "Отдел доставки",<br/>            "online_time": 46270,<br/>            "intervals": [<br/>                {"start":"2014-08-07T10:52:23+04:00", "end": "2014-08-07T13:10:47+04:00"},<br/>                {"start":"2014-08-07T14:05:18+04:00", "end": "2014-08-07T18:59:31+04:00"},<br/>                {"start":"2014-08-08T12:53:51+04:00", "end": "2014-08-08T13:15:21+04:00"},<br/>                {"start":"2014-08-08T14:15:45+04:00", "end": "2014-08-08T19:32:48+04:00"}<br/>            ]<br/>        }        <br/>    ]<br/>} <br/><br/>Уровень доступа для ролей<br/><br/>
### Поля

| Имя поля | Необходимость | Тип данных | Комментарий |
|---|---|---|---|
|**q**|False|[string](/docs/types/string.md)|Критерий поиска.<br/>Доступные поля:<br/>site_ids – idlist, список ID сайтов.<br/>department_ids – idlist, список ID отделов.<br/>employee_ids – idlist, список ID сотрудников.<br/>date – date, период, за который запрашивается статистика.<br/>Максимум - 30 дней. По умолчанию устанавливается период равный предыдущим суткам.<br/>time – time, период времени в течение суток, принимаемый во внимание при поиске сотрудников в состоянии "В сети". Возможные значения от 00:00:00 до 23:59:59.<br/>|
|**fields**|False|[string](/docs/types/string.md)|Список возвращаемых полей через запятую.<br/>По умолчанию возвращаются стандартные поля сайта, а также:<br/>online_time;<br/>intervals.<br/>|
|**limit**|False|[numeric](/docs/types/numeric.md)|По умолчанию – 5.<br/>|
|**sort**|False|[string](/docs/types/string.md)|Сортировка результатов.<br/>Возможные значения:<br/>title:a – по умолчанию.<br/>|
|**offset**|False|[numeric](/docs/types/numeric.md)|По умолчанию – 0.<br/>|

### Резудьтат
Array.<[Department](/docs/types/Department.md)>
### Доступы к методу

| Имя роли | доступ | Комментарий |
|---|---|---|
|admin|manager|chief|chief_partner|operator|admin_partner